title: "Course on SAR-PolSAR Statistics"
author: "Alejandro C. Frery and Antonio C. Medeiros"
date: "Initial: 11 June 2017"
output:
  html_document: default
  html_notebook: default


Add a new chunk by clicking the *Insert Chunk* button on the toolbar or by pressing *Cmd+Option+I*.

When you save the notebook, an HTML file containing the code and output will be saved alongside it (click the *Preview* button or press *Cmd+Shift+K* to preview the HTML file).

# Parte I: Elementos de analisis estadistico de imagenes PolSAR usando R

## A1 -- Formacion del dato SAR

## A2 -- El modelo multiplicativo y distribuciones de intensidad
```{r}
if(!require(shape)){install.packages("shape"); require("shape")}
if(!require(wesanderson)){install.packages("wesanderson"); require("wesanderson")}

set.seed(1234567890, kind="Mersenne-Twister")
factor.reduccion <- .5
### Gr??fico de formaci??n del speckle

N <- 10 # n??mero de espalhadores
sigma2 <- 1
RAi <- c(0, rnorm(n = N, mean = 0, sd = sqrt(sigma2)))
IAi <- c(0, rnorm(n = N, mean = 0, sd = sqrt(sigma2)))

### Determinaci??n de la caja para dibujar los ejes
rangex <- range(cumsum(RAi))
rangey <- range(cumsum(IAi))
maxaxis <- max(abs(c(rangex, rangey))) * factor.reduccion

### El ??rea de dibujo
plot(c(-maxaxis, maxaxis), c(-maxaxis, maxaxis), type = "n", asp = 1,
     axes = FALSE,
     xlab = "Real Components", ylab = "Imaginary Components")
Arrows(x0 = -maxaxis, y0 = 0, x1 = maxaxis, y1 = 0, arr.type="triangle")
Arrows(y0 = -maxaxis, x0 = 0, y1 = maxaxis, x1 = 0, arr.type="triangle")

### Los vectores sum??ndose
Arrows(x0 = RAi[1:(N)], y0 = IAi[1:(N)], x1 = RAi[2:(N+1)], y1 = IAi[2:(N+1)], lwd=.3)

### El vector final
Arrows(x0 = 0, y0 = 0, x1 = RAi[N+1], y1 = IAi[N+1], lwd = 3, col = 2)

### Fin Gráfico de formacióon del speckle
```
## T1 -- Introducción

R é um programa livre e um ambiente computacional de exploração de gráficos e
análise de dados (Chambers 6
, 2008). Ele é útil para qualquer pessoa que usa e interpreta
dados, das seguintes maneiras:

• Super-calculadora;  
• Ambiente com diversos pacotes estatísticos;  
• Ferramenta de gráficos de alta qualidade;  
• Linguagem de programação multi-uso.  

O R é utilizado para explorar, analisar e compreender os dados epidemiológicos. Os
dados podem ser importados de fontes como, por exemplo, o DATASUS 1 ou o IBGE 2
em planilhas de Excel.


### Como Instalar o R
O R é um software livre para computação estatística e construção de gráficos que pode ser baixado e distribuído
gratuitamente de acordo com a licença GNU.
O R está disponível para as plataformas UNIX, Windows e MacOS. 

O R é case-sensitive, isto é, ele diferencia letras maiúsculas de minúsculas, portanto A é diferente de a. O
separador de casas decimais é ponto ".". A vírgula é usada para separar argumentos (informações). Não é
recomendado o uso de acentos em palavras (qualquer nome que for salvar em um computador, não só no R,
evite usar acentos. Acentos são comandos usados em programação e podem causar erros, por exemplo, em
documentos do word e excel).

### Demonstrações
Algumas funções do R possuem demonstrações de uso. Estas demonstrações podem ser vistas
usando a função demo(). Vamos ver algumas demonstrações de gráficos que podem ser feitos no R. Digite
o seguinte na linha de comandos:  
> demo(graphics) # Vai aparecer uma mensagem pedindo que você tecle Enter para
prosseguir, depois clique na janela do gráfico para ir passando os exemplos.  
> demo(persp)  
> demo(image)  

### Pacotes do R
O R é um programa leve (ocupa pouco espaço e memória) e geralmente roda rápido, até em computadores
não muito bons. Isso porque ao instalarmos o R apenas as configurações mínimas para seu funcionamento
básico são instaladas (pacotes que vem na instalação “base”). Para realizar tarefas mais complicadas pode ser
necessário instalar pacotes adicionais (packages). 

### Como usar um pacote do R
Não basta apenas instalar um pacote. Para usá-lo é necessário "carregar" o pacote sempre que você abrir
o R e for usá-lo. Use a função library para rodar um pacote. Por exemplo: Digite library(vegan)
na linha de comandos do R.

library(vegan) # Após isso as funcionalidades do vegan estarão prontas para serem
usadas. Lembre-se que sempre que abrir o R será necessário carregar o pacote novamente.

### Como citar o R, ou um pacote do R em publicações
No R existe um comando que mostra como citar o R ou um de seus pacotes. Veja como fazer:

citation() # Mostra como citar o R
To cite R in publications use:
R Development Core Team (2011). R: A language and environment for statistical computing. R Foundation
for Statistical Computing, Vienna, Austria. ISBN 3-900051-07-0, URL http://www.R-project.org/.
Veja que na parte com o nome dos autores aparece "R development core team", isso está correto, cite o R
desta forma. Algumas pessoas não sabem disso e citam o R com autor Anônimo, isto tira o crédito do time.

Para citar um pacote, por exemplo o vegan, basta colocar o nome do pacote entre aspas.

citation("vegan")


## T2 -- Lectura de datos

## T3 -- Operaciones basicas en R

### Nociones de programación en R

Os comandos (scripts em linguagem R) devem ser explicitados na linha de comando
(console) ou por meio de um editor de texto (a ser comentado depois). Veja os exemplos
de operações matemáticas (Quadro 2):

Quadro 2: R como super-calculadora.

%Carregando pacote para tabela knitr & kableExtra
```{r}
require(knitr) 
require(kableExtra)
require(data.table)

#Criando conjunto de dados

#OperacoesR <- data.table(Operador = c( "+", "-", "*", "/", "^", "abs", "exp", "log", "sqrt", "rnorm"),
#                        Descricao = c( "Adicao", "Subtracao", "Multiplicacao", "Divisao", "Exponenciacao", "Valor Absoluto", #"log logaritmo (default \'e log natural)", "Raiz quadrada", "sorteia 100.000 valores de uma Normal"),
#                        Exemplos = c( "5+4", "5-4", "5*4", "5/4", "5^4", "abs(-5)", "exp(5)", "log(exp(5)", "sqrt(64)", #"rnorm(100000)"))
Tabela <- data.table(Operador = c("a", "b"),
                     Descr = c("c", "d"),
                     Exemplos = c("e", "f")
                     )
kable(Tabela, booktabs = T)

```                        

### O R como calculadora
O forma de uso mais básica do R é usá-lo como calculadora. Os operadores matemáticos básicos são:  
+ para soma, - subtração, * multiplicação, / divisão e ^ exponenciação. Digite as seguintes operações na
linha de comandos do R:  

%Carregando pacote para tabela knitr & kableExtra
```{r}
 2+2  
 2*2  
 2/2  
 2-2  
 2^2  
```
Use parênteses para separar partes dos cálculos, por exemplo, para fazer a conta 4+16, dividido por 4,
elevado ao quadrado:
```{r}
 ((4+16)/4)^2  

```
### Funções do R
O R tem diversas funções que podemos usar para fazer os cálculos desejados. O uso básico de uma
função é escrever o nome da função e colocar os argumentos entre parênteses, por exemplo:
função(argumentos). função especifica qual função irá usar e argumentos especifica os
argumentos que serão avaliados pela função. Não se assuste com esses nomes, com um pouco de pratica eles
se tornarão triviais.  
Antes de usar uma função precisamos aprender como usá-la. Para isso vamos aprender como abrir e usar
os arquivos de ajuda do R.


### Objetos do R (O que são?):
O que são os Objetos do R? Existem muitos tipos de objetos no R que só passamos a conhecê-los bem
com o passar do tempo. Por enquanto vamos aprender os tipos básicos de objetos.  
a) vetores: uma seqüência de valores numéricos ou de caracteres (letras, palavras).  
b) matrizes: coleção de vetores em linhas e colunas, todos os vetores dever ser do mesmo tipo (numérico
ou de caracteres).  
c) dataframe: O mesmo que uma matriz, mas aceita vetores de tipos diferentes (numérico e caracteres).  
Geralmente nós guardamos nossos dados em objetos do tipo data frame, pois sempre temos variáveis
numéricas e variáveis categóricas (por exemplo, largura do rio e nome do rio, respectivamente).  
d) listas: conjunto de vetores, dataframes ou de matrizes. Não precisam ter o mesmo comprimento, é a
forma que a maioria das funções retorna os resultados.  
e) funções: as funções criadas para fazer diversos cálculos também são objetos do R.  
No decorrer da apostila você verá exemplos de cada um destes objetos.   


### Como criar objetos
####Objetos vetores com valores numéricos
Vamos criar um conjunto de dados de contém o número de espécies de aves (riqueza) coletadas em 10
locais. As riquezas são 22, 28, 37, 34, 13, 24, 39, 5, 33, 32.  
```{r} 
 aves<-c(22,28,37,34,13,24,39,5,33,32)  
```
O comando <- (sinal de menor e sinal de menos) significa assinalar (assign). Indica que tudo que vem
após este comando será salvo com o nome que vem antes. É o mesmo que dizer "salve os dados a seguir com
o nome de aves".  

A letra c significa concatenar (colocar junto). Entenda como "agrupe os dados entre parênteses dentro do
objeto que será criado" neste caso no objeto aves.  

Para ver os valores (o conteúdo de um objeto), basta digitar o nome do objeto na linha de comandos.
 aves  
 
A função length fornece o número de observações (n) dentro do objeto.  
```{r} 
 length(aves)  
```
Objetos vetores com caracteres (letras, variáveis categóricas).  

Também podemos criar objetos que contêm letras ou palavras ao invés de números. Porem, as letras ou
palavras devem vir entre aspas " ".  
```{r} 
 letras<-c("a","b","c","da","edw")  
7  
 letras  
 
 palavras<-c("Manaus","Boa Vista","Belém","Brasília") 
 
 palavras    
 
```

Crie um objeto "misto", com letras e com números. Funciona? Esses números realmente são números?  

Note a presença de aspas, isso indica que os números foram convertidos em caracteres. Evite criar vetores
"mistos", a menos que tenha certeza do que está fazendo.  



## T4 -- Visualizacion de imagenes, mejoria de contraste

## T5 -- Analisis estadistico descriptivo 

## T6 -- Analisis estadistico cuantitativo

## A3 -- Filtros reductores de speckle

## A4 -- Evaluacion de filtros

# Parte II: PolSARpro

## T7 -- Introduccion

### PolSARpro Version 5.1


## T8 -- Lectura de datos

## A5 -- Datos polarimetricos: distribuciones 

## A6 -- Descomposicion H-alfa

## A7 -- Clasificacion

## T9 -- Operaciones en PolSARpro: filtrado de speckle, descomposiciones polarimetricas, clasificacion

## T10 -- Exportacion

## A8 -- Tests de hipotesis y deteccion de cambios